cpr_work_as_prostitute_ai_willingness_value = {
	value = 0
	if = {
		limit = { carn_accepts_prostitution_trigger = no }
		add = -20
	}

	# AI values
	# Greed (-20 to 20 depending on greed)
	add = {
		value = ai_greed
		multiply = 0.2
	}
	# Honor (-10 to 10 depending on honor)
	add = {
		value = ai_honor
		multiply = -0.1
	}
	# Sociability (-10 to 10 depending on sociability)
	add = {
		value = ai_sociability
		multiply = 0.1
	}
	# Zeal, if prostitution is not accepted (-20 to 20 depending on zeal)
	if = {
		limit = { carn_accepts_prostitution_trigger = no }
		add = {
			value = ai_zeal
			multiply = -0.2
		}
	}

	# Lust traits
	if = {
		limit = { has_trait = lustful }
		add = 20
	}
	else_if = {
		limit = { has_trait = chaste }
		add = -20
	}
	if = {
		limit = { has_trait = rakish }
		add = 20
	}
	if = {
		limit = { is_deviant_trigger = yes }
		add = 20
	}

	# Prostitution lifestyle trait (0 to 50)
	if = {
		limit = { has_trait = lifestyle_prostitute }
		add = {
			value = "has_trait_xp(lifestyle_prostitute)"
			multiply = 0.5
		}
	}

	# Skills (-10 to 10+)
	add = {
		value = diplomacy
		subtract = 10
		multiply = 0.5
	}
	add = {
		value = intrigue
		subtract = 10
		multiply = 0.5
	}

	# Attraction (-15 to 15)
	add = {
		value = attraction
		multiply = 0.5
	}

	# Age (-7 to 7)
	add = {
		value = 30
		subtract = effective_age
		multiply = 0.5
	}

	# Health (-15 to 0)
	if = {
		limit = { health < fine_health }
		value = health
		subtract = fine_health
		multiply = 5
	}

	# Highborn
	if = {
		limit = { is_lowborn = no }
		add = -10
	}

	# Personal circumstances: married or concubine
	if = {
		limit = { is_married = yes }
		add = -20
	}
	else_if = {
		limit = { is_concubine = yes }
		add = -10
	}

	# Personal circumstances: children
	if = {
		limit = {
			any_child = { count > 0 }
		}
		add = -10
	}

	# Personal circumstances: ruler, courtier, or guest
	if = {
		limit = { is_ruler = yes }
		add = -20
	}
	else_if = {
		limit = { is_courtier = yes }
		add = -10
	}
	else_if = {
		limit = { is_pool_guest = yes }
		add = -5
	}

	round = yes
}

cpr_attraction_based_female_chance = {
	if = {
		limit = { has_game_rule = carn_prostitution_content_any_gender }
		value = scope_attraction_based_female_chance
	}
	else_if = {
		limit = { has_game_rule = carn_prostitution_content_female_only }
		value = 100
	}
	else_if = {
		limit = { has_game_rule = carn_prostitution_content_male_only }
		value = 0
	}
	else = {
		value = 50
	}
}
